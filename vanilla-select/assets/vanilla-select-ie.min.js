var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.inherits=function(a,c){function e(){}e.prototype=c.prototype;a.superClass_=c.prototype;a.prototype=new e;a.prototype.constructor=a;for(var d in c)if(Object.defineProperties){var b=Object.getOwnPropertyDescriptor(c,d);b&&Object.defineProperty(a,d,b)}else a[d]=c[d]};$jscomp.owns=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,c,e,d){if(c){e=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var b=a[d];b in e||(e[b]={});e=e[b]}a=a[a.length-1];d=e[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,e){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(b)for(var c in b)$jscomp.owns(b,c)&&(a[c]=b[c])}return a}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill("Array.from",function(a){return a?a:function(a,e,d){$jscomp.initSymbolIterator();e=null!=e?e:function(a){return a};var b=[],c=a[Symbol.iterator];if("function"==typeof c)for(a=c.call(a);!(c=a.next()).done;)b.push(e.call(d,c.value));else for(var c=a.length,g=0;g<c;g++)b.push(e.call(d,a[g]));return b}},"es6-impl","es3");
(function(a){"function"!==typeof a.matches&&(a.matches=a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.document||this.ownerDocument).querySelectorAll(a);for(var c=0;a[c]&&a[c]!==this;)++c;return!!a[c]});"function"!==typeof a.closest&&(a.closest=function(a){for(var c=this;c&&1===c.nodeType;){if(c.matches(a))return c;c=c.parentNode}return null})})(window.Element.prototype);(function(a,c){"function"===typeof define?define(a,c):"undefined"!==typeof module&&module.exports?module.exports=c():this[a]=c()})("Select",function(){var a=function(a){this.props=a||{};this.state={};this.refs={};this.$disposables={mounted:[],updated:[]}};a.prototype.$defer=function(a,b){this.$disposables[a].push(b)};a.prototype.$dispose=function(a){this.$disposables[a].reverse().forEach(function(a){return a()});this.$disposables[a].length=0};a.prototype.componentMount=function(a){var b=this;this.$el&&
this.componentUnmount();this.componentWillMount();this.$el=a&&a.el||document.createElement("div");this.$defer("mounted",function(){b.$el.innerHTML="";b.$el=null});this.forceUpdate();this.componentDidMount();return this};a.prototype.componentWillMount=function(){};a.prototype.componentDidMount=function(){};a.prototype.componentUnmount=function(){this.componentWillUnmount();this.$dispose("mounted");this.componentDidUnmount();return this};a.prototype.componentWillUnmount=function(){};a.prototype.componentDidUnmount=
function(){};a.prototype.setState=function(a,b){var d=this.state;a="function"==typeof a?a(d,this.props):a;this.state=Object.assign(d,a);this.shouldComponentUpdate(d,a)&&this.forceUpdate();b&&b.call(this);return this};a.prototype.forceUpdate=function(){this.componentUpdate(this.props,this.state);return this};a.prototype.shouldComponentUpdate=function(a,b){return a!==b};a.prototype.componentUpdate=function(a,b){this.$el&&(this.componentWillUpdate(a,b),this.$dispose("updated"),this.$el.innerHTML=this.render(a,
b),this.refs=Array.from(this.$el.querySelectorAll("[ref]")).reduce(function(a,b){return a[b.getAttribute("ref")]=b,a},{}),this.componentDidUpdate(a,b))};a.prototype.componentWillUpdate=function(a,b){};a.prototype.render=function(a,b){return""};a.prototype.componentDidUpdate=function(a,b){};var c=function(d){var b=a.call(this,d)||this;d=b.props.selected;b.state={placeholder:d||b.props.placeholder||"",selected:d||null,expanded:!1};b.onDocumentClick=b.onDocumentClick.bind(b);b.onToolboxClick=b.onToolboxClick.bind(b);
b.dropdown=new e(Object.assign({},b.props,{onSelected:function(a){b.props.onSelected&&b.props.onSelected(a);b.setState(function(b){return{placeholder:a.text||a.value,selected:a,expanded:!1}})}}));return b};$jscomp.inherits(c,a);c.prototype.onDocumentClick=function(a){a.$owner!==this&&this.setState(function(a){return{expanded:!1}})};c.prototype.onToolboxClick=function(a){var b=this;a.$owner=this;this.setState(function(a){return{expanded:!a.expanded}},function(){b.props.search&&b.state.expanded&&b.dropdown.refs.query.focus()})};
c.prototype.render=function(a,b){return'<div class="select__box '+(b.expanded?"select__box--expanded":"")+'">\n                    <div ref="toolbox" class="select__toolbox">\n                        <i class="select__arrow" aria-hidden="true"></i>\n                        <div class="select__label">'+b.placeholder+'</div>\n                    </div>\n                    <div ref="dropdown" class="select__dropdown '+(b.expanded?"select__dropdown--show":"")+'"></div>\n                </div>'};c.prototype.componentDidMount=
function(){var a=this;document.body.addEventListener("click",this.onDocumentClick);this.$defer("mounted",function(){return document.body.removeEventListener("click",a.onDocumentClick)})};c.prototype.componentDidUnmount=function(){this.dropdown.componentUnmount()};c.prototype.componentDidUpdate=function(){var a=this,b=this.refs.toolbox;b.addEventListener("click",this.onToolboxClick);this.$defer("updated",function(){return b.removeEventListener("click",a.onToolboxClick)});this.dropdown.componentMount({el:this.refs.dropdown})};
var e=function(c){c=a.call(this,c)||this;c.state={query:"",dataset:c.props.dataset||[],selected:c.props.selected,openDownwards:!0};c.onQueryChanged=c.onQueryChanged.bind(c);c.onItemClicked=c.onItemClicked.bind(c);return c};$jscomp.inherits(e,a);e.prototype.onQueryChanged=function(a){var b=a.target.value,c=new RegExp(b,"gi"),d=(this.props.dataset||[]).filter(function(a){return c.test(a.text||a.value||"")});this.setState(function(a){return{query:b,dataset:d}})};e.prototype.onItemClicked=function(a){a=
a.target.closest("li").dataset.index;var b=this.state.dataset[a];this.props.onSelected&&this.props.onSelected(b);this.setState(function(a){return{selected:b}})};e.prototype.render=function(a,b){if(0===b.dataset.length)return'<input ref="query" type="text" value="'+b.query+'" class="select__query">\n                    <span class="select__query_noresult">'+(a.noResults||"")+"</span>";var c="";a.search&&(c='<input ref="query" type="text" value="'+b.query+'" class="select__query">');return c+'\n                    <ul ref="list" class="select__list">\n                        '+
b.dataset.map(function(a,c){return'\n                                    <li class="select__item '+(a===b.selected||a.value===b.selected?"select__item--selected":"")+'" data-index="'+c+'" data-value="'+(a.value||a.text)+'">\n                                        <i class="select__item_icon '+(a.icon||"")+'" aria-hidden="true"></i>\n                                        <span class="select__item_text">'+(a.text||a.value)+"</span>\n                                    </li>"}).join("")+"\n                    </ul>"};
e.prototype.componentDidUpdate=function(){var a=this,b=this.$el,c=b.getBoundingClientRect();c.top+c.height>window.innerHeight&&(b.style.marginTop=-b.clientHeight-b.parentElement.clientHeight+"px");if(this.props.search){var e=this.refs.query;e.addEventListener("change",this.onQueryChanged);this.$defer("updated",function(){return e.removeEventListener("change",a.onQueryChanged)})}var f=this.refs.list;f&&(f.addEventListener("click",this.onItemClicked),this.$defer("updated",function(){return f.removeEventListener("click",
a.onItemClicked)}))};return c});
